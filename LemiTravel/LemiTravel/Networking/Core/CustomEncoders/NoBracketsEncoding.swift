//
//  NoBracketsEncoding.swift
//  LemiTravel
//
//  Created by Glenn Von C. Posadas on 29/05/2019.
//  Copyright Â© 2019 Glenn Von C. Posadas. All rights reserved.
//

import Alamofire

/// Remove square brackets for GET request
/// This works too: ```URLEncoding(arrayEncoding: .noBrackets)```
struct NoBracketsEncoding: ParameterEncoding {
    func encode(_ urlRequest: URLRequestConvertible, with parameters: Parameters?) throws -> URLRequest {
        var request = try URLEncoding().encode(urlRequest, with: parameters)
        request.url = URL(string: request.url!.absoluteString.replacingOccurrences(of: "%5B%5D=", with: "="))
        return request
    }
}
